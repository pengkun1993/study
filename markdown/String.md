# Stringç›¸å…³å±æ€§å’Œæ–¹æ³•æ•´ç†

#### Stringå…¨å±€å¯¹è±¡æ˜¯ä¸€ä¸ªç”¨äºå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªå­—ç¬¦ä¸²åºåˆ—çš„æ„é€ å‡½æ•°ã€‚

#### è¯­æ³•ï¼š

```javascript

	// å­—ç¬¦ä¸²å­—é¢é‡å½¢å¼
	'string text' / "ä¸­æ–‡ã€æ±‰è¯­"

	// Stringå‡½æ•°è½¬æ¢æˆ–ç”Ÿæˆ
	String(thing);
	new String(thing);

	// å‚æ•°
	thing // ä»»ä½•å¯ä»¥è¢«è½¬æ¢æˆå­—ç¬¦ä¸²çš„å€¼ã€‚

	// ä»ECMAScript 2015å¼€å§‹ï¼Œå­—ç¬¦ä¸²å­—é¢é‡ä¹Ÿå¯ä»¥ç§°ä¸ºæ¨¡æ¿å­—é¢é‡
	`hello world` `hello ${who}`;

```

#### æœ‰ç‰¹æ®ŠåŠŸèƒ½çš„å­—ç¬¦å¯ä»¥é€šè¿‡è½¬ä¹‰å­—ç¬¦çš„å½¢å¼æ”¾å…¥å­—ç¬¦ä¸²ä¸­ï¼š

|code|output|
|:-:|:-:|
|`\0`|ç©ºå­—ç¬¦|
|`\'`|å•å¼•å·|
|`\"`|åŒå¼•å·|
|`\\`|åæ–œæ |
|`\n`|æ¢è¡Œ|
|`\r`|å›è½¦|
|`\v`|å‚ç›´åˆ¶è¡¨ç¬¦|
|`\t`|æ°´å¹³åˆ¶è¡¨ç¬¦|
|`\b`|é€€æ ¼|
|`\f`|æ¢é¡µ|
|`\uXXXX`|unicodeç |
|`\xXX`|Latin-1å­—ç¬¦(xå°å†™)|

##### å’Œå…¶ä»–è¯­è¨€ä¸åŒï¼ŒJavaScriptçš„å­—ç¬¦ä¸²ä¸åŒºåˆ†å•å¼•å·å’ŒåŒå¼•å·ã€‚

#### å¯¹äºé•¿å­—ç¬¦ä¸²ï¼Œä¸ºäº†é¿å…ä¸€è¡Œæ— é™å»¶é•¿æˆ–è€…è¢«ç¼–è¾‘å™¨æŠ˜å ï¼Œå¯ä»¥å†™æˆå¤šè¡Œã€‚

```javascript

	//ä½¿ç”¨+è¿ç®—ç¬¦å°†å¤šä¸ªå­—ç¬¦ä¸²è¿æ¥èµ·æ¥
	let longString = "This is a very long string which needs " +
                 "to wrap across multiple lines because " +
                 "otherwise my code is unreadable.";
    //å¯ä»¥åœ¨æ¯è¡Œæœ«å°¾ä½¿ç”¨åæ–œæ å­—ç¬¦("\")ï¼Œä»¥æŒ‡ç¤ºå­—ç¬¦ä¸²å°†åœ¨ä¸‹ä¸€è¡Œç»§ç»­ã€‚ç¡®ä¿åæ–œæ åé¢æ²¡æœ‰ç©ºæ ¼æˆ–ä»»ä½•é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„å­—ç¬¦æˆ–ç¼©è¿›ï¼›å¦åˆ™åæ–œæ å°†ä¸ä¼šå·¥ä½œã€‚
    let longString1 = "This is a very long string which needs \
to wrap across multiple lines because \
otherwise my code is unreadable.";

	console.log(longString===longString1);//true

```

#### åŸºæœ¬å­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²å¯¹è±¡çš„åŒºåˆ«

##### å­—ç¬¦ä¸²å­—é¢é‡ï¼ˆé€šè¿‡å•å¼•å·æˆ–åŒå¼•å·å®šä¹‰ï¼‰å’Œç›´æ¥è°ƒç”¨Stringæ–¹æ³•ï¼ˆæ²¡æœ‰é€šè¿‡newç”Ÿæˆå­—ç¬¦ä¸²å¯¹è±¡ç¤ºä¾‹ï¼‰çš„å­—ç¬¦ä¸²éƒ½æ˜¯åŸºæœ¬å­—ç¬¦ä¸²ã€‚

##### å½“åŸºæœ¬å­—ç¬¦ä¸²éœ€è¦è°ƒç”¨ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡æ‰æœ‰çš„æ–¹æ³•æˆ–è€…æŸ¥è¯¢å€¼çš„æ—¶å€™ï¼ˆåŸºæœ¬å­—ç¬¦ä¸²æ˜¯æ²¡æœ‰è¿™äº›æ–¹æ³•çš„ï¼‰ï¼ŒJavaScriptä¼šè‡ªåŠ¨å°†åŸºæœ¬å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¯¹è±¡å¹¶è°ƒç”¨ç›¸åº”çš„æ–¹æ³•æˆ–è€…æ‰§è¡ŒæŸ¥è¯¢ã€‚

```javascript

	let str = 'abc';
	let str_string = String('abc');
	let str_obj = new String('abc');

	console.log(str);//abc
	console.log(str_string);//abc
	console.log(str_obj);
	/*String{'abc'} 
	0:'a'
	1:'b'
	2:'c'
	length:3
	__proto__:String
	[[PrimitiveValue]]: "abc"*/

	console.log(str === str_obj);//false
	console.log(str === str_string);//true
	console.log(str == str_obj);//true

```

##### å½“ä½¿ç”¨evalæ—¶ï¼ŒåŸºæœ¬å­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²å¯¹è±¡ä¹Ÿä¼šäº§ç”Ÿä¸åŒçš„ç»“æœã€‚evalä¼šå°†åŸºæœ¬å­—ç¬¦ä¸²ä½œä¸ºæºä»£ç å¤„ç†ï¼›è€Œå­—ç¬¦ä¸²å¯¹è±¡åˆ™è¢«çœ‹ä½œå¯¹è±¡å¤„ç†ï¼Œè¿”å›å¯¹è±¡ã€‚

```javascript

	let s1 = '2+2';
	let s2 = new String('2+2');

	console.log(eval(s1));//4
	console.log(eval(s2));
	/*StringÂ {"2+2"}
	0: "2"
	1: "+"
	2: "2"
	length: 3
	__proto__: String
	[[PrimitiveValue]]: "2+2"*/

```

##### åˆ©ç”¨valueOfæ–¹æ³•å¯ä»¥å°†å­—ç¬¦ä¸²å¯¹è±¡è½¬æ¢ä¸ºå…¶å¯¹åº”çš„åŸºæœ¬å­—ç¬¦ä¸²ã€‚

---

### å±æ€§ï¼ˆæ„é€ å‡½æ•°é‡Œçš„å±æ€§ï¼Œå¯ç†è§£ä¸ºç§æœ‰å±æ€§ï¼Œåªèƒ½é€šè¿‡String.å±æ€§åè®¿é—®ï¼‰

>#### String.prototypeå±æ€§è¡¨ç¤ºStringåŸå‹å¯¹è±¡ã€‚

#### String.prototypeå±æ€§çš„å±æ€§ç‰¹æ€§ï¼š

|String.prototypeå±æ€§çš„å±æ€§ç‰¹æ€§|
|:-:|:-:|
|writable|false|
|enumerable|false|
|configurable|false|

##### æ‰€æœ‰çš„Stringå®ä¾‹éƒ½ç»§æ‰¿è‡ªString.prototypeã€‚

---

### æ–¹æ³•ï¼ˆæ„é€ å‡½æ•°é‡Œçš„æ–¹æ³•ï¼Œå¯ç†è§£ä¸ºç§æœ‰æ–¹æ³•ï¼Œåªèƒ½é€šè¿‡String.æ–¹æ³•åè®¿é—®ï¼‰

>#### String.fromCharCode()ï¼Œè¿”å›ä½¿ç”¨æŒ‡å®šçš„Unicodeå€¼åºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²ã€‚

```javascript

	String.fromCharCode(num1,...,numN);

	// å‚æ•°
	num1,...,numN; //ä¸€ç»„åºåˆ—æ•°å­—ï¼Œè¡¨ç¤ºUnicodeå€¼ã€‚

	// è¿”å›å€¼ï¼šä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯ä¸€ä¸ªStringå¯¹è±¡

```

##### ç”±äºè¯¥æ–¹æ³•æ˜¯Stringçš„é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥åº”è¯¥åƒè¿™æ ·ä½¿ç”¨ï¼šString.formCharCode()ï¼Œè€Œä¸æ˜¯ä½œä¸ºåˆ›å»ºçš„Stringå¯¹è±¡å®ä¾‹çš„æ–¹æ³•ã€‚

```javascript

	console.log(String.fromCharCode(65,66,67));//ABC

```

##### å°½ç®¡ç»å¤§éƒ¨åˆ†å¸¸ç”¨çš„Unicodeå€¼å¯ä»¥ç”¨ä¸€ä¸ª16-bitæ•°å­—è¡¨ç¤ºï¼ˆæ­£å¦‚JavaScriptæ ‡å‡†åŒ–è¿‡ç¨‹æ—©æœŸï¼‰ï¼Œå¹¶ä¸”å¯¹äºç»å¤§éƒ¨åˆ†å€¼fromCharCode()è¿”å›ä¸€ä¸ªå­—ç¬¦ï¼ˆå³å¯¹äºç»å¤§éƒ¨åˆ†å­—ç¬¦UCS-2å€¼æ˜¯UTF-16çš„å­é›†ï¼‰ï¼Œä½†æ˜¯ä¸ºäº†å¤„ç†æ‰€æœ‰çš„Unicodeå€¼ï¼ˆè‡³21bitsï¼‰ï¼Œåªç”¨fromCharCode()æ˜¯ä¸è¶³çš„ã€‚ç”±äºé«˜ä½ç¼–ç å­—ç¬¦æ˜¯ç”¨ä¸¤ä¸ªä½ä½ç¼–ç è¡¨ç¤ºå½¢æˆçš„ä¸€ä¸ªå­—ç¬¦ï¼Œå› æ­¤String.fromCodePoint()è¢«ç”¨æ¥è¿”å›è¿™æ ·ä¸€å¯¹ä½ä½ç¼–ç ï¼Œä»è€Œå¯ä»¥å®Œæˆè¡¨ç¤ºè¿™äº›é«˜ä½ç¼–ç å­—ç¬¦ã€‚

>#### String.fromCodePoint()ï¼Œè¿”å›ä½¿ç”¨æŒ‡å®šçš„ä»£ç ç‚¹åºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²ï¼Œæ­¤æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚

#### è¯­æ³•ï¼š

```javascript

	String.fromCodePoint(num1[,...[,numN]]);

	// å‚æ•°
	num1,...,numN // ä¸€ä¸²Unicodeç¼–ç ä½ç½®ï¼Œå³â€œä»£ç ç‚¹â€

	// è¿”å›å€¼ï¼šä½¿ç”¨æŒ‡å®šçš„Unicodeç¼–ç ä½ç½®åˆ›å»ºçš„å­—ç¬¦ä¸²ï¼Œä¸æ˜¯ä¸€ä¸ªStringå¯¹è±¡

```

##### å¦‚æœä¼ å…¥æ— æ•ˆçš„Unicodeç¼–ç ï¼Œå°†ä¼šæŠ›å‡ºä¸€ä¸ªRangeErrorã€‚

#### ç¤ºä¾‹ï¼š

```javascript

	console.log(String.fromCodePoint(65,66,67));//ABC
	console.log(String.fromCodePoint(42));//*
	console.log(String.fromCodePoint(0x404));//Ğ„
	console.log(String.fromCodePoint(0x1D306, 0x61, 0x1D307));//ğŒ†ağŒ‡		
	console.log(String.fromCodePoint(0x2F804));//ä½ 
	console.log(String.fromCodePoint('-'));//Uncaught RangeError: Invalid code point NaN

```

>#### String.raw()ï¼Œæ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨ç±»ä¼¼äºPythonä¸­çš„å­—ç¬¦ä¸²å‰ç¼€rå’ŒC#ä¸­çš„å­—ç¬¦ä¸²å‰ç¼€@ï¼Œæ˜¯ç”¨æ¥è·å–ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—é¢é‡å€¼çš„ã€‚

#### è¯­æ³•ï¼š

```javascript

	String.raw(callSite,...substitutions);
	String.raw`templateString`;

	// å‚æ•°
	callSite //ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„â€œè°ƒç”¨ç‚¹å¯¹è±¡â€ã€‚ç±»ä¼¼{raw:['foo','bar','baz']}

	...substitutions // ä»»æ„ä¸ªå¯é€‰çš„å‚æ•°ï¼Œè¡¨ç¤ºä»»æ„ä¸ªå†…æ’è¡¨è¾¾å¼å¯¹åº”çš„å€¼ã€‚

	templateString //æ¨¡æ¿å­—ç¬¦ä¸²

	// è¿”å›å€¼ï¼šç»™å®šæ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—é¢é‡å€¼ã€‚

```

##### å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ²¡æœ‰ä¼ å…¥ä¸€ä¸ªæ ¼å¼è‰¯å¥½çš„è°ƒç”¨ç‚¹å¯¹è±¡ï¼Œåˆ™ä¼šæŠ›å‡ºTypeErrorå¯¹è±¡ã€‚

##### åƒæ‰€æœ‰çš„æ ‡ç­¾å‡½æ•°ä¸€æ ·ï¼Œé€šå¸¸ä¸éœ€è¦æŠŠå®ƒçœ‹æˆä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œåªéœ€è¦æŠŠå®ƒæ”¾åœ¨æ¨¡æ¿å­—ç¬¦ä¸²å‰é¢å°±å¯ä»¥äº†ï¼Œè€Œä¸æ˜¯åœ¨å®ƒåé¢åŠ ä¸ªæ‹¬å·å’Œä¸€å †å‚æ•°æ¥è°ƒç”¨å®ƒï¼Œå¼•æ“ä¼šå»è°ƒç”¨å®ƒã€‚

##### String.raw() æ˜¯å”¯ä¸€ä¸€ä¸ªå†…ç½®çš„æ¨¡æ¿å­—ç¬¦ä¸²æ ‡ç­¾å‡½æ•°ï¼Œå› ä¸ºå®ƒå¤ªå¸¸ç”¨äº†ã€‚ä¸è¿‡å®ƒå¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šèƒ½åŠ›ï¼Œä½ è‡ªå·±ä¹Ÿå¯ä»¥å®ç°ä¸€ä¸ªå’Œå®ƒåŠŸèƒ½ä¸€æ¨¡ä¸€æ ·çš„æ ‡ç­¾å‡½æ•°ã€‚

#### ç¤ºä¾‹ï¼š

```javascript

	console.log(`Hi\n!`);// Hi [æ¢è¡Œ] ï¼
	console.log(String.raw `Hi\n!`);//Hi\n!
	console.log(`Hi\u000A!`);// Hi [æ¢è¡Œ] ï¼
	console.log(String.raw `Hi\u000A!`);//Hi\u000A!
	// ä»»ä½•ç±»å‹çš„è½¬ä¹‰å½¢å¼éƒ½ä¼šå¤±æ•ˆï¼Œä¿ç•™åŸæ ·è¾“å‡º

	let name = 'Bob';
	console.log(`Hi\n${name}!`);// Hi [æ¢è¡Œ] Bob!
	console.log(String.raw `Hi\n${name}!`);//Hi\nBob!
	// å†…æ’è¡¨è¾¾å¼è¿˜å¯ä»¥æ­£å¸¸è¿è¡Œ

	console.log(String.raw({raw: "test"}, 0, 1, 2)); //t0e1s2tï¼Œä¸ç†è§£ï¼Œåº”è¯¥ä¹Ÿæ²¡ä»€ä¹ˆç”¨

```

### StringåŸå‹å¯¹è±¡çš„å±æ€§

>#### String.prototype.constructor ç”¨äºåˆ›é€ å¯¹è±¡çš„åŸå‹å¯¹è±¡çš„ç‰¹å®šçš„å‡½æ•°ã€‚

```javascript

	let str = 'abc';
	console.dir(str.constructor);//String()

```

>#### String.prototype.length å±æ€§è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚

##### è¯¥å±æ€§è¿”å›å­—ç¬¦ä¸²ä¸­å­—ç¬¦ç¼–ç å•å…ƒçš„æ•°é‡ã€‚JavaScriptä½¿ç”¨UTF-16ç¼–ç ï¼Œè¯¥ç¼–ç ä½¿ç”¨ä¸€ä¸ª16æ¯”ç‰¹çš„ç¼–ç å•å…ƒæ¥è¡¨ç¤ºå¤§éƒ¨åˆ†å¸¸è§çš„å­—ç¬¦ï¼Œä½¿ç”¨ä¸¤ä¸ªä»£ç å•å…ƒè¡¨ç¤ºä¸å¸¸ç”¨çš„å­—ç¬¦ã€‚å› æ­¤lengthè¿”å›å€¼å¯èƒ½ä¸å­—ç¬¦ä¸²ä¸­å®é™…çš„å­—ç¬¦æ•°é‡ä¸ç›¸åŒã€‚

##### ç©ºå­—ç¬¦ä¸²çš„lengthä¸º0

##### é™æ€å±æ€§String.lengthè¿”å›1ã€‚

>#### Nï¼Œç”¨äºè®¿é—®ç¬¬Nä¸ªä½ç½®çš„å­—ç¬¦ï¼Œå…¶ä¸­Næ˜¯å°äºlengthå’Œ0ä¹‹é—´çš„æ­£æ•´æ•°ã€‚è¿™äº›å±æ€§éƒ½æ˜¯â€œåªè¯»â€æ€§è´¨ï¼Œä¸èƒ½ç¼–è¾‘ã€‚

```javascript

	let str = 'abc';
	console.dir(str[0]);//a

```

---

### StringåŸå‹å¯¹è±¡çš„æ–¹æ³•

##### è¿™é‡Œçš„æ–¹æ³•å…¶å®æ˜¯æœ€å¸¸ç”¨çš„ï¼Œæˆ‘å°†ä»–ä»¬æŒ‰ç…§åŠŸèƒ½æˆ–æ“ä½œåˆ†æˆä»¥ä¸‹å‡ ç±»ï¼Œåˆ†åˆ«æ•´ç†

>#### 1ã€è¿”å›æŒ‡å®šä½ç½®å­—ç¬¦ï¼š`charAt/charCodeAt/codePointAt/slice/substr/substring`



























